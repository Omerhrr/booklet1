{% extends "_shared/dashboard_base.html" %}
{% block title %}Trial Balance{% endblock %}
{% block main_content %}
<div class="space-y-6">
    <div class="flex justify-between items-center">
        <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Trial Balance</h1>
        <div class="flex space-x-3">
            <input type="date" id="as_of_date" value="{{ as_of_date }}" class="rounded-lg border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm" onchange="window.location.href='?as_of_date='+this.value">
            <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">Export</button>
        </div>
    </div>
    
    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden">
        <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
            <thead class="bg-gray-50 dark:bg-gray-700">
                <tr>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase">Account</th>
                    <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase">Debit (₦)</th>
                    <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase">Credit (₦)</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
                {% if report and report.accounts %}
                    {% for acc in report.accounts %}
                    <tr class="hover:bg-gray-50 dark:hover:bg-gray-700">
                        <td class="px-6 py-4 text-sm text-gray-900 dark:text-white">{{ acc.code }} - {{ acc.name }}</td>
                        <td class="px-6 py-4 text-sm text-right text-gray-900 dark:text-white">{{ "{:,.2f}".format(acc.debit) if acc.debit else '-' }}</td>
                        <td class="px-6 py-4 text-sm text-right text-gray-900 dark:text-white">{{ "{:,.2f}".format(acc.credit) if acc.credit else '-' }}</td>
                    </tr>
                    {% endfor %}
                    <tr class="bg-gray-50 dark:bg-gray-700 font-bold">
                        <td class="px-6 py-4 text-sm text-gray-900 dark:text-white">Total</td>
                        <td class="px-6 py-4 text-sm text-right text-gray-900 dark:text-white">₦{{ "{:,.2f}".format(report.total_debit or 0) }}</td>
                        <td class="px-6 py-4 text-sm text-right text-gray-900 dark:text-white">₦{{ "{:,.2f}".format(report.total_credit or 0) }}</td>
                    </tr>
                {% else %}
                    <tr><td colspan="3" class="px-6 py-12 text-center text-gray-500 dark:text-gray-400">No data available</td></tr>
                {% endif %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
